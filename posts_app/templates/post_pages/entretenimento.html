{% extends 'base.html' %}
{% load static%}

{% block title %}Entretenimento{% endblock %}

{% block content %}
<div style="display: flex; justify-content: center; align-items: center; margin-top: 20px;">
    <!-- Barra de busca -->
    <form method="GET" action="{% url 'pages_entretenimento' %}" class="search-form" style="display: flex; flex-direction: column; align-items: center;">
        <div>
            <label for="search">Buscar por título:</label>
        </div>
        <div>
            <input type="text" name="search" id="search" placeholder="Digite o título" value="{{ request.GET.search }}">
        </div>
        <div>
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-search"></i> Buscar
            </button>
        </div>
    </form>
</div>


	<div class="row row-cols-1 row-cols-md-3 g-4" style="padding-top: 20px;">
		{% for post in posts %} 
		<div class="col">
			<div class="card h-100 text-bg-light">
				{% if post.image %}
					<img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.title }}" style="width: 100%; height: 150px; object-fit: cover;">
				{% else %}
					<img src="{% static 'images/default_image.png' %}" class="card-img-top" alt="Imagem padrão" style="width: 100%; height: 150px; object-fit: cover;">
				{% endif %}
				<div class="card-body">
					<h3 class="card-text"><strong>{{ post.title }}</strong></h3>
					<p class="card-text" style="font-size:13px">{{ post.create_at|date:"d M Y" }}</p>
					<p class="card-text card-text-default">{{ post.description|slice:":100"|safe }}...</p>
					<a class="btn btn-secondary" href="{% url 'post_detail' post.id %}" style="font-size: 15px;">Leia Mais</a>
				</div>
			</div> 
		</div>
		{% endfor %} 
	</div>
	<a href="{{ request.META.HTTP_REFERER }}" class="btn btn-info">Voltar</a>
{% endblock %}

<style>
	.card-text-default {
		font-size: 15px;
		font-family: Arial, sans-serif;
		line-height: 1.5;
	}
</style>